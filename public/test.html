<!DOCTYPE html>
<html>
<head>
    <style>
        .vote-container {
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background-color: #f0f0f0;
            border-radius: 15px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            transition: width 0.3s ease;
        }

        .yes-progress {
            background-color: #4CAF50;
        }

        .no-progress {
            background-color: #f44336;
        }

        .vote-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            flex: 1;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .results {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="vote-container">
        <h2>Should we implement this feature?</h2>
        <div class="progress-bar">
            <div class="progress yes-progress" style="width: 50%"></div>
        </div>
        <div class="progress-bar">
            <div class="progress no-progress" style="width: 50%"></div>
        </div>
        <div class="results" id="results"></div>
        <div class="vote-buttons">
            <button onclick="vote('yes')" id="yesBtn">Yes</button>
            <button onclick="vote('no')" id="noBtn">No</button>
        </div>
        <div id="message"></div>
    </div>

    <script>
        // Initialize vote counts
        let votes = {
            yes: localStorage.getItem('votesYes') ? parseInt(localStorage.getItem('votesYes')) : 0,
            no: localStorage.getItem('votesNo') ? parseInt(localStorage.getItem('votesNo')) : 0
        };

        // Check if user has already voted
        const lastVote = localStorage.getItem('lastVote');
        const cooldown = 24 * 60 * 60 * 1000; // 24 hours in milliseconds
        const hasVoted = lastVote && (Date.now() - lastVote) < cooldown;

        // Disable buttons if user has voted
        if (hasVoted) {
            disableButtons();
            showMessage("You can vote again in " + formatTimeRemaining());
        }

        function vote(option) {
            if (hasVoted) return;

            // Update vote count
            votes[option]++;
            localStorage.setItem(`votes${option.charAt(0).toUpperCase() + option.slice(1)}`, votes[option]);
            
            // Store last vote timestamp
            localStorage.setItem('lastVote', Date.now());
            
            // Update UI
            updateResults();
            disableButtons();
            showMessage("Thank you for voting! You can vote again in 24 hours.");
        }

        function updateResults() {
            const total = votes.yes + votes.no;
            const yesWidth = total > 0 ? (votes.yes / total) * 100 : 50;
            const noWidth = total > 0 ? (votes.no / total) * 100 : 50;

            document.querySelector('.yes-progress').style.width = `${yesWidth}%`;
            document.querySelector('.no-progress').style.width = `${noWidth}%`;
            
            document.getElementById('results').innerHTML = `
                Yes: ${votes.yes} (${yesWidth.toFixed(1)}%)<br>
                No: ${votes.no} (${noWidth.toFixed(1)}%)
            `;
        }

        function disableButtons() {
            document.getElementById('yesBtn').disabled = true;
            document.getElementById('noBtn').disabled = true;
        }

        function showMessage(text) {
            document.getElementById('message').innerHTML = text;
        }

        function formatTimeRemaining() {
            if (!lastVote) return '';
            const remaining = cooldown - (Date.now() - lastVote);
            const hours = Math.floor(remaining / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            return `${hours}h ${minutes}m`;
        }

        // Initial update
        updateResults();
    </script>
</body>
</html>